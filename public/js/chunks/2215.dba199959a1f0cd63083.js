(self.webpackChunk=self.webpackChunk||[]).push([[2215],{2215:(a,s,e)=>{"use strict";e.r(s),e.d(s,{default:()=>i});var t=e(7757),o=e.n(t);function r(a,s,e,t,o,r,n){try{var i=a[r](n),l=i.value}catch(a){return void e(a)}i.done?s(l):Promise.resolve(l).then(t,o)}const n={data:function(){return{passwordClass:"far fa-eye-slash",passwordEye:"password",passwordEyeConfirmation:"password",passwordClassConfirmation:"far fa-eye-slash",password:"",confirmation:""}},created:function(){localStorage.getItem("email")||(this.$snotify.error("Please Follow step by step to change new password","Forbidden!"),this.$router.push({name:"admin.passwordRecovery.email"}))},methods:{togglePasswordEye:function(a,s){this[a]="password"==this[a]?"text":"password",this[s]="password"==this[a]?"far fa-eye-slash":"far fa-eye"},onSubmit:function(a){var s,e=this;return(s=o().mark((function a(){var s,t;return o().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return(s=new FormData(e.$refs.newPassword)).append("code",localStorage.getItem("code")),a.next=4,axios.post("/api/auth/new-password",s);case 4:(t=a.sent).data.status?(localStorage.removeItem("code"),localStorage.removeItem("email"),e.$router.push({name:"web.auth.login"}),e.$snotify.success(t.data.msg,"Updated!")):e.$snotify.error(t.data.msg,"Oops!");case 6:case"end":return a.stop()}}),a)})),function(){var a=this,e=arguments;return new Promise((function(t,o){var n=s.apply(a,e);function i(a){r(n,t,o,i,l,"next",a)}function l(a){r(n,t,o,i,l,"throw",a)}i(void 0)}))})()}}};const i=(0,e(1900).Z)(n,(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("section",{staticClass:"login"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6"},[e("ValidationObserver",{scopedSlots:a._u([{key:"default",fn:function(s){var t=s.handleSubmit;return[e("form",{ref:"newPassword",on:{submit:function(s){return s.preventDefault(),t(a.onSubmit)}}},[e("div",{staticClass:"form-div"},[e("h1",{staticClass:"login-heading"},[a._v("Password Recovery")]),a._v(" "),e("label",{staticClass:"login-lbl mt-lg-5 mt-3 mb-2",attrs:{for:""}},[a._v("New Password*")]),a._v(" "),e("div",{staticClass:"position-relative"},[e("ValidationProvider",{attrs:{name:"Password",rules:"required|confirmed:password_confirmation"},scopedSlots:a._u([{key:"default",fn:function(s){var t=s.errors;return["checkbox"===a.passwordEye?e("input",{directives:[{name:"model",rawName:"v-model",value:a.password,expression:"password"}],staticClass:"all-input w-100 enter-input pr-5",attrs:{placeholder:"Enter New Password",type:"checkbox"},domProps:{checked:Array.isArray(a.password)?a._i(a.password,null)>-1:a.password},on:{change:function(s){var e=a.password,t=s.target,o=!!t.checked;if(Array.isArray(e)){var r=a._i(e,null);t.checked?r<0&&(a.password=e.concat([null])):r>-1&&(a.password=e.slice(0,r).concat(e.slice(r+1)))}else a.password=o}}}):"radio"===a.passwordEye?e("input",{directives:[{name:"model",rawName:"v-model",value:a.password,expression:"password"}],staticClass:"all-input w-100 enter-input pr-5",attrs:{placeholder:"Enter New Password",type:"radio"},domProps:{checked:a._q(a.password,null)},on:{change:function(s){a.password=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:a.password,expression:"password"}],staticClass:"all-input w-100 enter-input pr-5",attrs:{placeholder:"Enter New Password",type:a.passwordEye},domProps:{value:a.password},on:{input:function(s){s.target.composing||(a.password=s.target.value)}}}),a._v(" "),e("span",{staticClass:"text-danger"},[a._v(a._s(t[0]))])]}}],null,!0)}),a._v(" "),e("i",{staticClass:"far fa-eye enter-icon right-icon",class:a.passwordClass,on:{click:function(s){return a.togglePasswordEye("passwordEye","passwordClass")}}})],1),a._v(" "),e("label",{staticClass:"login-lbl mt-lg-5 mt-3 mb-2",attrs:{for:""}},[a._v("Confirm Password*")]),a._v(" "),e("div",{staticClass:"position-relative"},[e("ValidationProvider",{attrs:{name:"Confirm Password",rules:"required",vid:"password_confirmation"},scopedSlots:a._u([{key:"default",fn:function(s){var t=s.errors;return["checkbox"===a.passwordEyeConfirmation?e("input",{directives:[{name:"model",rawName:"v-model",value:a.confirmation,expression:"confirmation"}],staticClass:"all-input w-100 enter-input-2 pr-5",attrs:{placeholder:"Confirm Password",type:"checkbox"},domProps:{checked:Array.isArray(a.confirmation)?a._i(a.confirmation,null)>-1:a.confirmation},on:{change:function(s){var e=a.confirmation,t=s.target,o=!!t.checked;if(Array.isArray(e)){var r=a._i(e,null);t.checked?r<0&&(a.confirmation=e.concat([null])):r>-1&&(a.confirmation=e.slice(0,r).concat(e.slice(r+1)))}else a.confirmation=o}}}):"radio"===a.passwordEyeConfirmation?e("input",{directives:[{name:"model",rawName:"v-model",value:a.confirmation,expression:"confirmation"}],staticClass:"all-input w-100 enter-input-2 pr-5",attrs:{placeholder:"Confirm Password",type:"radio"},domProps:{checked:a._q(a.confirmation,null)},on:{change:function(s){a.confirmation=null}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:a.confirmation,expression:"confirmation"}],staticClass:"all-input w-100 enter-input-2 pr-5",attrs:{placeholder:"Confirm Password",type:a.passwordEyeConfirmation},domProps:{value:a.confirmation},on:{input:function(s){s.target.composing||(a.confirmation=s.target.value)}}}),a._v(" "),e("i",{staticClass:"far fa-eye enter-icon-2 right-icon",class:a.passwordClassConfirmation,on:{click:function(s){return a.togglePasswordEye("passwordEyeConfirmation","passwordClassConfirmation")}}}),a._v(" "),e("span",{staticClass:"text-danger"},[a._v(a._s(t[0]))])]}}],null,!0)})],1),a._v(" "),e("button",{staticClass:"yellow-btn mt-lg-5 mt-3",attrs:{type:"submit","data-toggle":"modal","data-target":"#pwd-update"}},[a._v("Update")]),a._v(" "),e("router-link",{staticClass:"register-link mt-lg-5 mt-3 d-block",attrs:{to:{name:"web.auth.login"}}},[a._v("Back To Log In")])],1)])]}}])})],1)])])])}),[],!1,null,null,null).exports}}]);