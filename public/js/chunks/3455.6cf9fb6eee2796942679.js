(self.webpackChunk=self.webpackChunk||[]).push([[3455],{3455:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var a=t(7757),r=t.n(a);function o(e,s,t,a,r,o,n){try{var i=e[o](n),l=i.value}catch(e){return void t(e)}i.done?s(l):Promise.resolve(l).then(a,r)}const n={data:function(){return{passwordClass:"far fa-eye-slash",passwordEye:"password",response:{},form:{email:"",password:"",role:"user"},base_url,checkisLogin:""}},created:function(){this.checkisLogin=localStorage.getItem("isLogin"),0==this.checkisLogin&&this.$snotify.success(localStorage.getItem("message"))},methods:{togglePasswordEye:function(e,s){this[e]="password"==this[e]?"text":"password",this[s]="password"==this[e]?"far fa-eye-slash":"far fa-eye"},login:function(e){var s,t=this;return(s=r().mark((function e(){var s,a,o,n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=new FormData,t.buildFormData(s,t.form),e.prev=2,e.next=5,axios.post("api/auth/login",s);case 5:(a=e.sent).data.data?(o=a.data.data,t.$snotify.success(a.data.message),localStorage.setItem("isLoggedIn","1"),localStorage.setItem("userType","web"),localStorage.setItem("access-token",o.token),localStorage.setItem("name",o.name),localStorage.setItem("id",o.id),localStorage.setItem("image",o.image),setTimeout((function(){window.location.reload()}),500),0==localStorage.getItem("isLogin")?(n=localStorage.getItem("service_id"),t.$router.push({name:"web.booking.bookappointment",params:{id:n}})):t.$router.push({name:"web.account.index"})):t.$snotify.error(a.data.message),t.response={},e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),e.t0.response&&(t.response=e.t0.response.data),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})),function(){var e=this,t=arguments;return new Promise((function(a,r){var n=s.apply(e,t);function i(e){o(n,a,r,i,l,"next",e)}function l(e){o(n,a,r,i,l,"throw",e)}i(void 0)}))})()}}};const i=(0,t(1900).Z)(n,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("section",{staticClass:"login"},[t("div",{staticClass:"container"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6"},[t("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(s){var a=s.handleSubmit;return[t("form",{on:{submit:function(s){return s.preventDefault(),a(e.login)}}},[t("div",{staticClass:"form-div"},[t("h1",{staticClass:"login-heading"},[e._v("User Login")]),e._v(" "),t("p",{staticClass:"login-p mt-2"},[e._v("If You Have An Account, Sign In With Your Email Address.")]),e._v(" "),t("label",{staticClass:"login-lbl mt-lg-5 mt-3 mb-2",attrs:{for:""}},[e._v("Email Address*")]),e._v(" "),t("ValidationProvider",{attrs:{tag:"div",name:"Email",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.errors;return[t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.email,expression:"form.email"}],staticClass:"all-input w-100",attrs:{type:"email",name:"email",placeholder:"Enter Email Address"},domProps:{value:e.form.email},on:{input:function(s){s.target.composing||e.$set(e.form,"email",s.target.value)}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)}),e._v(" "),t("label",{staticClass:"login-lbl mt-lg-5 mt-3 mb-2",attrs:{for:""}},[e._v("Password*")]),e._v(" "),t("div",{staticClass:"position-relative"},[t("ValidationProvider",{attrs:{tag:"div",name:"Password",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(s){var a=s.errors;return["checkbox"===e.passwordEye?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"all-input w-100 enter-input pr-5",attrs:{name:"password",placeholder:"Enter Password",type:"checkbox"},domProps:{checked:Array.isArray(e.form.password)?e._i(e.form.password,null)>-1:e.form.password},on:{change:function(s){var t=e.form.password,a=s.target,r=!!a.checked;if(Array.isArray(t)){var o=e._i(t,null);a.checked?o<0&&e.$set(e.form,"password",t.concat([null])):o>-1&&e.$set(e.form,"password",t.slice(0,o).concat(t.slice(o+1)))}else e.$set(e.form,"password",r)}}}):"radio"===e.passwordEye?t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"all-input w-100 enter-input pr-5",attrs:{name:"password",placeholder:"Enter Password",type:"radio"},domProps:{checked:e._q(e.form.password,null)},on:{change:function(s){return e.$set(e.form,"password",null)}}}):t("input",{directives:[{name:"model",rawName:"v-model",value:e.form.password,expression:"form.password"}],staticClass:"all-input w-100 enter-input pr-5",attrs:{name:"password",placeholder:"Enter Password",type:e.passwordEye},domProps:{value:e.form.password},on:{input:function(s){s.target.composing||e.$set(e.form,"password",s.target.value)}}}),e._v(" "),t("i",{staticClass:"enter-icon right-icon",class:e.passwordClass,attrs:{"aria-hidden":"true"},on:{click:function(s){return e.togglePasswordEye("passwordEye","passwordClass")}}}),e._v(" "),t("span",{staticClass:"text-danger"},[e._v(e._s(a[0]))])]}}],null,!0)})],1),e._v(" "),t("div",{staticClass:"d-sm-flex justify-content-between mt-2"},[t("p",[t("input",{attrs:{type:"checkbox",id:"c1",name:"cb"}}),e._v(" "),t("label",{staticClass:"login-links",attrs:{for:"c1"}},[e._v("Remember Me")])]),e._v(" "),t("router-link",{staticClass:"login-links mt-sm-0 mt-2 d-inline-block",attrs:{to:{name:"web.password.email"}}},[t("u",[e._v("Forgot Password?")])])],1),e._v(" "),t("button",{staticClass:"yellow-btn mt-lg-5 mt-3",attrs:{type:"submit"}},[e._v("Login")]),e._v(" "),t("p",{staticClass:"register-link mt-lg-5 mt-3"},[e._v("New Here? "),t("span",[t("router-link",{attrs:{to:{name:"web.auth.register"}}},[e._v("Register Your Account")])],1)])],1)])]}}])})],1)])])])}),[],!1,null,null,null).exports}}]);