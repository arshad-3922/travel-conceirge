(self.webpackChunk=self.webpackChunk||[]).push([[223],{223:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(7757),s=a.n(n);function r(e,t,a,n,s,r,o){try{var i=e[r](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(n,s)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(n,s){var o=e.apply(t,a);function i(e){r(o,n,s,i,c,"next",e)}function c(e){r(o,n,s,i,c,"throw",e)}i(void 0)}))}}const i={data:function(){return{isSending:!1,code:"",email:""}},created:function(){localStorage.getItem("email")||(this.$snotify.error("Please Follow the first step & verify your email","Forbidden!"),this.$router.push({name:"ForgetPassword"}))},methods:{onResend:function(e){var t=this;return o(s().mark((function e(){var a,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new FormData).append("email",localStorage.getItem("email")),t.isSending){e.next=10;break}return t.isSending=!0,e.next=6,axios.post("/api/auth/send/email",a);case 6:(n=e.sent).data.data?(r=t,t.isSending=!1,setTimeout((function(){r.$snotify.success(n.data.message)}),1e3)):t.$snotify.error(n.data.message),e.next=11;break;case 10:t.$snotify.error("already sending","Please Wait!");case 11:case"end":return e.stop()}}),e)})))()},onSubmit:function(e){var t=this;return o(s().mark((function e(){var a,n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("code",t.code),e.next=4,axios.post("/api/auth/verify/code",a);case 4:(n=e.sent).data.data?(localStorage.setItem("code",t.code),t,t.$router.push({name:"web.password.newpassword"}),t.$snotify.success(n.data.message,"Verified")):t.$snotify.error(n.data.message,"Invalid Code");case 6:case"end":return e.stop()}}),e)})))()}}};const c=(0,a(1900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{staticClass:"login"},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-6"},[a("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var n=t.handleSubmit;return[a("form",{on:{submit:function(t){return t.preventDefault(),n(e.onSubmit)}}},[a("div",{staticClass:"form-div"},[a("h1",{staticClass:"login-heading"},[e._v("Password Recovery")]),e._v(" "),a("label",{staticClass:"login-lbl mt-lg-5 mt-3 mb-2",attrs:{for:""}},[e._v("Verification Code*")]),e._v(" "),a("ValidationProvider",{attrs:{name:"code",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.errors;return[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"all-input w-100",attrs:{type:"number",placeholder:"Enter Verification Code"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),a("span",{staticClass:"text-danger"},[e._v(e._s(n[0]))])]}}],null,!0)}),e._v(" "),a("div",{staticClass:"text-right mt-2"},[a("a",{staticClass:"login-links mt-sm-0 mt-2 d-inline-block",attrs:{href:"javascript:void(0)"},on:{click:e.onResend}},[a("u",[e._v("Resend Code")])])]),e._v(" "),a("button",{staticClass:"yellow-btn mt-lg-5 mt-3"},[e._v("Continue")]),e._v(" "),a("router-link",{staticClass:"register-link mt-lg-5 mt-3 d-block",attrs:{to:{name:"web.auth.login"}}},[e._v("Back To Log In")])],1)])]}}])})],1)])])])}),[],!1,null,null,null).exports}}]);