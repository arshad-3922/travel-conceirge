(self.webpackChunk=self.webpackChunk||[]).push([[1869],{1869:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var r=a(7757),s=a.n(r),n=a(629);function i(e,t,a,r,s,n,i){try{var o=e[n](i),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(r,s)}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){c(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const u={data:function(){return{name:"",current_password:"",password:"",confirmation:"",editProfile:{},image:"",errors:[],base_url:baseUrl}},computed:l({},(0,n.rn)("admin",["profile"])),methods:l(l({},(0,n.nv)("admin",["store","get"])),{},{setImage:function(e){var t=this,a=e.target.files[0];if(a.type.includes("image/"))if("function"==typeof FileReader){var r=new FileReader;r.onload=function(e){t.profile.image=e.target.result,console.log(t.profile)},r.readAsDataURL(a)}else alert("Sorry, FileReader API not supported");else alert("Please select an image file")},update:function(){var e,t=this;return(e=s().mark((function e(){var a,r,n,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("first_name",t.profile.name),a.append("image",t.profile.image),r={route:"api/auth/profile",method:"POST",data:a},e.prev=4,e.next=7,t.store(r);case 7:n=e.sent,(i=n.data)?(t.$snotify.success("admin profile updated"),t.$router.push({name:"admin.account.index"})):t.$snotify.error(i.message),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),e.t0.response&&t.$refs.adminObserver.setErrors(e.t0.response.data.errors),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[4,12]])})),function(){var t=this,a=arguments;return new Promise((function(r,s){var n=e.apply(t,a);function o(e){i(n,r,s,o,l,"next",e)}function l(e){i(n,r,s,o,l,"throw",e)}o(void 0)}))})()}})};const d=(0,a(1900).Z)(u,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app-content content dashboard"},[a("div",{staticClass:"content-wrapper content-wrapper-2"},[a("div",{staticClass:"content-body"},[a("section",{attrs:{id:"configuration"}},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[e._m(0),e._v(" "),a("ValidationObserver",{scopedSlots:e._u([{key:"default",fn:function(t){var r=t.handleSubmit;return[a("form",{ref:"AdminEditForm",on:{submit:function(t){return t.preventDefault(),r(e.update)}}},[a("div",{staticClass:"white-div px-2 px-md-5 py-5 border-20 mb-0 mb-sm-5"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"user-profile-img"},[a("img",{staticClass:"w-100",attrs:{id:"myImg",src:e.profile.image}}),e._v(" "),a("div",{staticClass:"upload-btn"},[a("img",{staticClass:"upload-camera",attrs:{src:e.base_url+"/assets/admin/images/camera-p.png",alt:""}}),e._v(" "),a("input",{staticClass:"myinput",attrs:{type:"file"},on:{change:e.setImage}})])])])]),e._v(" "),a("div",{staticClass:"row mt-4"},[a("div",{staticClass:"col-md-6 col-xl-5 mb-3 mb-md-0"},[a("h6",{staticClass:"user-profle-title mb-1"},[e._v("Name:")]),e._v(" "),a("ValidationProvider",{attrs:{name:"Name",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.errors;return[a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.profile.name,expression:"profile.name"}],staticClass:"custom-textarea",attrs:{placeholder:"Alex Morales"},domProps:{value:e.profile.name},on:{input:function(t){t.target.composing||e.$set(e.profile,"name",t.target.value)}}}),e._v(" "),a("span",{staticClass:"text-danger"},[e._v(e._s(r[0]))])]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"col-md-6 col-xl-5"},[a("h6",{staticClass:"user-profle-title mb-1"},[e._v("Email:")]),e._v(" "),a("h5",{staticClass:"user-profle-desig"},[e._v(e._s(e.profile.email))])]),e._v(" "),a("div",{staticClass:"col-12 mt-4"},[a("button",{staticClass:"general-btn d-inline-block px-5 mr-sm-2 mb-2 mb-sm-0",attrs:{type:"submit"}},[e._v("Update")]),e._v(" "),a("router-link",{staticClass:"profile-btns general-btn d-inline-block mb-0",attrs:{to:{name:"admin.account.password"}}},[e._v("Change Password")])],1)])])])]}}])})],1)])])])])])}),[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row mb-2 mb-md-3 align-items-center align-items-xl-start"},[a("div",{staticClass:"col-md-12"},[a("h1",{staticClass:"main-heading mb-md-1"},[e._v("Edit Profile")]),e._v(" "),a("h2",{staticClass:"sub-heading"},[e._v("Account")])])])}],!1,null,null,null).exports}}]);