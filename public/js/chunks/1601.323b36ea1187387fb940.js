(self.webpackChunk=self.webpackChunk||[]).push([[1601],{1601:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var s=a(7757),n=a.n(s);function r(e,t,a,s,n,r,o){try{var i=e[r](o),c=i.value}catch(e){return void a(e)}i.done?t(c):Promise.resolve(c).then(s,n)}function o(e){return function(){var t=this,a=arguments;return new Promise((function(s,n){var o=e.apply(t,a);function i(e){r(o,s,n,i,c,"next",e)}function c(e){r(o,s,n,i,c,"throw",e)}i(void 0)}))}}const i={props:{email:{type:String,required:!0,default:null}},data:function(){return{isSending:!1,code:""}},methods:{openLoginPopup:function(){$(".auth-popup").modal("show"),bus.$emit("show-login","Login")},onResend:function(e){var t=this;return o(n().mark((function e(){var a,s,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=new FormData).append("email",t.email),t.isSending){e.next=10;break}return t.isSending=!0,e.next=6,axios.post(route("admin.password.verify"),a);case 6:(s=e.sent).data.status?(r=t,t.isSending=!1,setTimeout((function(){r.$snotify.success(s.data.msg)}),1e3)):t.$snotify.error(s.data.msg),e.next=11;break;case 10:t.$snotify.error("already sending","Please Wait!");case 11:case"end":return e.stop()}}),e)})))()},onSubmit:function(e){var t=this;return o(n().mark((function e(){var a,s;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData(t.$refs.validateCode)).append("email",t.email),a.append("code",t.code),e.prev=3,e.next=6,axios.post("api/auth/verify/code",a);case 6:(s=e.sent).data.status?(t.$snotify.success(s.data.message),t.$emit("change-forget-preview",{component:"New",email:t.email,code:t.code})):t.$snotify.error(s.data.message,"Invalid Code"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(3),e.t0.response&&t.$refs.codeObserver.setErrors(e.t0.response.data.errors),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()}}};const c=(0,a(1900).Z)(i,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ValidationObserver",{ref:"codeObserver",staticClass:"modal-content",attrs:{tag:"div"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.handleSubmit;return[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[e._v("Ã—")])]),e._v(" "),a("div",{staticClass:"forget-pass"},[a("div",{staticClass:"modal-body"},[a("h1",[e._v("Password Recovery")]),e._v(" "),a("form",{ref:"validateCode",on:{submit:function(t){return t.preventDefault(),s(e.onSubmit)}}},[a("div",{staticClass:"row"},[a("ValidationProvider",{staticClass:"col-12 form-group",attrs:{tag:"div",vid:"code",name:"code",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.errors;return[a("div",{staticClass:"col-12 form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Enter Code"},domProps:{value:e.code},on:{input:function(t){t.target.composing||(e.code=t.target.value)}}}),e._v(" "),a("i",{staticClass:"fas fa-check-circle"}),e._v(" "),a("div",{staticClass:"text-danger"},[e._v(e._s(s[0]))])]),e._v(" "),a("div",{staticClass:"col-12 text-right"},[a("a",{staticClass:"green-small",attrs:{href:"javascript:void(0)"},on:{click:e.onResend}},[a("small",[e._v("Didn't get a\n                                code?")])])])]}}],null,!0)})],1),e._v(" "),a("div",{staticClass:"col-12"},[a("button",{staticClass:"form-control yel-btn",attrs:{type:"submit",id:"pwd1-btn"}},[e._v("Continue")])]),e._v(" "),a("a",{staticClass:"login back",attrs:{href:"javascript:void(0)","data-dismiss":"modal"}},[a("i",{staticClass:"fa fa-arrow-circle-left"}),e._v("back to\n                    login")])])])])]}}])})}),[],!1,null,null,null).exports}}]);